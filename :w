import { serialize } from "@helpers/serialize";
import { SwaggerResponseProperty } from "@lib/decorators/swagger-response-property.decorator";
import { Expose, Transform } from "class-transformer";

class HSDaysSerialization {
  @Expose()
  @SwaggerResponseProperty('string')
  day: string;

  @Expose()
  @SwaggerResponseProperty('number')
  points: number;
}

export class HomeStreakSerialization {
  @Expose()
  @Transform((value) => (value as any).map((day) => serialize(day, HSDaysSerialization)))
  @SwaggerResponseProperty({ type: [HSDaysSerialization]})
  days: HSDaysSerialization[];
}
